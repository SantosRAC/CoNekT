{% extends 'base.html' %}

{% block container %}
<div class="top-pad">

    {% if sequence %}
    <h1>Sequence: <strong>{{ sequence.name }}</strong> <small>({{ sequence.type }})</small></h1>

    Species: <em><a href="{{ url_for('species.species_view', species_id=sequence.species.id) }}">{{ sequence.species.name }}</a></em>
    <br />


    <h3>Coding Sequence <small>(length: {{ sequence.coding_sequence|length }} bp)</small></h3>
    <div class="well sequence">{{ sequence.coding_sequence }}</div>

    <br />
    <h3>Functional Annotation</h3>
    <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading">GO annotation</div>
                {% if sequence.go_labels.count() > 0 %}
                <div class="table-responsive">
                    <table class="table  table-striped">
                        <thead>
                            <tr>
                                <th>Label</th>
                                <th>Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for go in sequence.go_labels %}
                            <tr>
                                <td><a href="{{ url_for('go.go_view', go_id=go.id) }}">{{ go.label }}</a></td>
                                <td>{{ go.name }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="panel-body">
                    <p>No GO annotation available for this sequence</p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading">InterPro domains</div>
                {% if sequence.interpro_domains.count() > 0 %}
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Label</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for domain in sequence.interpro_domains %}
                            <tr>
                                <td><a href="{{ url_for('interpro.interpro_view', interpro_id=domain.id) }}">{{ domain.label }}</a></td>
                                <td>{{ domain.description }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="panel-body">
                    <p>No InterPro domains available for this sequence</p>
                </div>
                {% endif %}
            </div>
        </div> <!-- end col -->
    </div> <!-- end row -->
    {% endif %}
</div>

</div>
{% endblock %}
